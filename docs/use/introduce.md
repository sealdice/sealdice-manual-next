---
lang: zh-cn
title: 基础概念
---

# 基础概念

::: info 本节内容

这里讲的是**使用**海豹核心的相关事项，如果要了解如何**搭建和部署**骰子，请参考 [部署 - 快速开始](../deploy/quick-start.md)。

以下内容针对从未接触过骰子的用户准备。如果你已经有使用其他骰系的经验，可以 [跳过本节](./quick-start.md)。

:::

## 什么是骰子？

**骰子**这里特指在即时聊天软件（如 QQ、KOOK、Discord）中为 TRPG（跑团）玩家提供方便的机器人。顾名思义，骰子提供各种基于各种跑团规则（如 CoC、D&D）的骰点服务，
同时还包括技能检定、日志记录（Log）等功能。一些骰子服务，包括 SealDice，还提供一系列的自定义和娱乐功能。

## 获取和使用

最简单的方法就是自己 [搭建](../deploy/quick-start.md) 一个海豹骰自用（私骰），也可以从 [SealDice 公骰列表](https://docs.qq.com/sheet/DQ0pQQlBPcVFmTkhO) 中寻找一个面向公众提供服务的骰子（公骰）。

一般而言，公骰是免费的。但他们的维护者（骰主）一般都要求用户严格遵循使用协议，使用前请使用 `.help 协议` 指令了解你需要注意哪些事项。

::: danger 危险：QQ 骰子的使用注意项

QQ 并未提供公开的机器人接口，因此机器人只能使用第三方软件作为**假用户**接入。QQ 可能会检测到这些机器人，将它们视为诈骗而予以警告、封禁，甚至永久冻结。

因此，在 QQ 使用骰子有许多约定俗成的规则，例如必须使用指令使骰子退群，而**严禁直接移出群聊**。为了尊重骰主的劳动成果，你应该遵守这些规则。

:::

在 QQ 上，你需要和骰子成为好友，然后拉入群组使用；在其他平台，一般使用邀请链接或者其他方式（详细操作请查看对应平台的相关使用文档）将机器人邀请进服务器、频道，或群组。之后，你可以通过触发 **指令回复** 和 **自定义回复** 来使用骰子机器人了。

### 指令回复

指令是和骰子互动的基本方式。一个指令由指令前缀、指令名、指令参数、指令标志组成。

#### 指令前缀

为了避免意外触发，指令前面都带有前缀，如 `.help 协议` 中的 `.`。按照习惯，指令前缀一般是便于输入的中英文句号，通常是 `.` 和 `。` 。

海豹核心提供了自定义指令前缀功能，因此，其他符号如 `/`，甚至一段话 `哦，我的骰子，` 都可以被用作前缀。如果你使用公骰，请注意查阅它的使用说明。

#### 指令名

以 `.help 协议` 为例，其中的 `help` 就是指令名。指令可以有别名，例如 `查询` 就是 `find` 的别名。

::: info 指令的行为与预期不符？

海豹通过 [扩展](../advanced/introduce.md) 来组织功能和指令，指令名只要求在同一扩展内不重复。

如果你发现指令的回复与预期不符合，有可能是没有开启正确的扩展，从而执行了来自其他扩展的指令。

例如，CoC 和 D&D 都存在掷骰检定指令 `rc`，你需要通过扩展管理指令 [`ext`](./core.md) 来开启其中一个、关闭另一个，以控制指令的行为。

:::

#### 指令参数

以 `.help 协议` 为例，其中 `协议` 就是指令参数，参数提供指令所需要的信息。

虽然海豹在一定程度上可以兼容 `.help协议` 这种情况，但是**在指令名与参数、参数与参数之间添加空格**能保证海豹骰识别指令时准确无误，避免出现预期外情况。

::: tip 提示：获取指令帮助

多数情况下，第一个参数为 `help`，或者没有正确提供指令所需参数时会返回指令的帮助信息。例如，下面是 `find` 指令返回的帮助信息：

```text
查询指令，通常使用全文搜索（x86 版）或快速查询（arm, 移动版）
.find/查询 <关键字>      // 查找文档。关键字可以多个，用空格分割
.find#<分组> <关键字>    // 查找指定分组下的文档。关键字可以多个，用空格分割
.find <数字 ID>          // 显示该 ID 的词条
.find --rand           // 显示随机词条
.find <关键字> --num=10 // 需要更多结果
```

依照惯例，帮助说明中的的一些符号有特定含义，说明如下：

1. `<关键字>` 的尖括号 `<>` 表示你应以相应内容替换此处内容。

    正常的用例：`.find 火球术`
    错误的用例：`.find <火球术>`

2. `[关键字]` 或 `(关键字)` 的括号 `[] ()` 表示此参数可以被省略。
3. `(关键字1|关键字2)` 的圆括号 `()` 搭配竖线 `|` 表示在所列各项中选择一个。

:::

#### 指令标志

标志（flag）和参数相似，但不同于参数往往需要处于按照一定的顺序出现，标志可以无序排列。标志通过特定的关键字（key）来辅助识别，一般形式为 `--key=value` 或者 `--key` 。

::: warning

一些系统（如 iOS）会将两个连字符（hyphen）`--` 自动转换为短画线（en dash）`–`，输入 flag 时请注意辨别。

:::

### 自定义回复

[自定义回复](deck_and_reply.md) 形式自由，触发机制多样（关键字、正则表达式等），并且能配合海豹核心独特的变量系统使用。

海豹核心没有预置的自定义回复，完全由骰主自行设定。因此每个骰子使用自定义回复的方法可能完全不同。

如果你使用公骰，请参阅相应的使用文档以了解骰主设定的自定义回复。
