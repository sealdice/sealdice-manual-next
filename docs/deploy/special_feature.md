---
lang: zh-cn
title: 特色功能
---

# 特色功能

::: info 本节内容

本节将会介绍海豹的特色功能。

:::

## 指令兼容性

海豹核心兼容了溯洄核心、赵骰核心和塔骰核心的绝大部分主流指令，无论之前用过哪一个都可以轻松上手。

海豹核心对指令格式不敏感，你可以使用 `.r1d20  +1`、`.r  d20+1`、`.stshow力量 敏捷`、`。st hp - 1` 等等各种写法。

::: tip

虽然海豹尽可能提高兼容性，我们仍推荐适当使用空格，以避免预期外结果。

:::

## 易于部署和使用

海豹的设计初衷是 **「能被任何 TRPG 玩家喜爱和使用」**，同时秉持 **「没有提供 UI 的功能等于不存在」** 的理念。

只需一个不到 25 MB 的安装包、一个可用的机器人账号、和一小段空闲时间，任何人都可以搭建一个 TRPG 骰子。

::: tip

如果你希望在 QQ 平台上搭建骰子，由于 QQ 原则上不允许机器人账号，你会需要使用一些**特殊技术**，这可能花费你更多时间和精力。

:::

## 极少的资源占用

由于 Golang 的高效，海豹核心只占用大概 40 MB 内存，以及极少的 CPU 资源。

自带的《CoC 7th 怪物之锤》和《D&D 系列资料》会另外占用 50 - 70 MB 内存，但能提供极为强大的资料查询功能。

内存占用会随着持续运行而稍稍增长并有所波动。根据我们的观察，即使是持续运行数月的大型公骰，内存占用也不会超过数百 MB。

## 强自定义

提供了友好的 WebUI 界面，可以自定义大部分指令的回复语句。

同时对于自定义回复功能进行了强化，你可以编写一些复杂逻辑，使你的骰子更加鲜活。

## 人工智能鸽子

让你想咕就咕。

:::: info 示例

::: tabs

== .gugu

<ChatBox :messages="[
{content: '.gugu', send: true},
{content: '🕊️: <木落>在来开团的路上被巨龙叼走了！'}
]"/>

== 查看鸽子背后的故事

<ChatBox :messages="[
{content: '.gugu 来源', send: true},
{content: '🕊️: 前往了一个以前捕鲸的小岛度假~这里人很亲切！但是吃了这里的鱼肉料理之后有点晕晕的诶...想到前几天<木落>的短信，还是别追究他为什么不在了。\n\t——鹊鹊结合实际经历创作'}
]"/>

:::

::::

## 强大的查询功能

海豹搭载了全文搜索技术（仅限 PC 版），可以看作是一个微型搜索引擎。

```text
.find 30尺 法术
```

细节可参见 [查询指令](../use/core.md#find-词条查询指令) 一节。

## 通用特化支持

### 代替他人检定 / 操作他人属性

## CoC 特化支持

### 属性同义词

各种旧版翻译、俗称、简繁汉字的属性被视为同一属性。

### 默认技能等级

内置部分人物卡上没有的默认技能等级。

包括不限于速记、园艺、攀爬、各种武器等等。

### 支持 .scb 指令

用于在 sc 时附加一个奖励骰。

适用于规则书中的**关键连接**自救规则。

## D&D 特化支持

### 属性同义词

各种旧版翻译、俗称、简繁汉字的属性被视为同一属性。

### 优势骰劣势骰

::: info 示例

<ChatBox :messages="[
{content: '.set 20', send: true},
{content: '设定默认骰子面数为 20'},
{content: '.r d20优势', send: true},
{content: '<木落>掷出了 d20优势=[{7 | 6 }]=7'},
{content: '.r d劣势', send: true},
{content: '<木落>掷出了 d劣势=[{16 | 18 }]=16'},
]" />

:::

### 属性调整值和熟练自动计算

### 临时属性

### 法术位支持

### 死亡豁免

### 休息

## 可以实时编辑的跑团日志

海豹开发了 [日志在线染色器](https://log.sealdice.com/)。

在海豹中记录的日志会自动上传，省去你一一发送日志文件的麻烦。

除了海豹 Log 自用之外，支持 QQ 格式和塔骰格式，将你的 Log 全文粘贴到文本框里即可。

## 是纯净骰，也是娱乐骰

海豹除了核心指令之外，都被设计为可插拔的，目前有 7 个内置扩展。

关闭对应扩展会连同扩展带来的指令一块关闭。

因此在跑团时，如果你不想要任何娱乐功能，你可以（以 CoC 团为例）：

```text
.ext fun off // 关闭.jrrp和.gugu
.ext reply off // 关闭关键字回复
.ext deck off // 关闭抽牌 .draw
.ext dnd5e off // 关闭dnd5e系列指令
.ext story off // 关闭.name[随机指令]/.modu[魔都查询]/.who[排序]等

也可以写成一行:
.ext fun reply deck dnd5e story off
```

这样一来，就只剩下 coc 系列指令和 log 指令了。

这个改动在当前群聊持续生效。你也可以再打开相应扩展：

```text
.ext fun on
```

如果你是骰主，你也可以在 WebUI 中设置各个扩展是否默认开启。这配置对于海豹核心新加入的群聊生效。

## 更强的指令支持

海豹核心将表达式翻译成字节码，丢进指令虚拟机里执行，同时也做了很强的兼容性处理。

可以在不同骰系下测试一下这些指令：

```text
.r 30 + (-1d20) + 49
.r d20 + (3 + 1d4)
.r 1 + (3+2)d(4+2d10)

.sc 0/-1
.sc (1+2)/0
.sc 0/1d4+(3*2)
.sc 1 / 2
.sc 1/2 + 3

.ra b 测试50
.ra b 50 测试
```

彩蛋：

```text
.r 1+d10-3*4 --asm
<木落>掷出了 1+d10-3*4=1 + 3[1d10=3] - 12=-8
=== VM Code ===
push 1
mark.left
push 1
mark.left
push 10
dice
add
mark.left
push 3
mark.left
push 4
mul
sub
halt
=== VM Code End===
```

## 跨平台

海豹核心的底层架构，支持单进程**多号**，也支持很方便地**多开**。

**多号**指每个骰子上连接多个帐号，并且支持同时连接不同平台。

**多开**指同时运行多个海豹核心，以提供各自不同的服务内容。

## TRPG 规则支持列表

- COC7
- COC - DeltaGreen (.setcoc dg)
- DND5e
- 暗影狂奔 (.rsr)
- WOD/无限团 (.ww)
- 双十字 DoubleCross (.dx)
- 共鸣性怪异 Emoklore (.ek .ekgen)
- 剑世界 2.5 (插件)
- 明日方舟跑团规则 (插件)
- 其它插件由海豹社区提供，欢迎前去 [插件仓库](https://github.com/sealdice/javascript/tree/main/scripts/%E6%A1%8C%E6%B8%B8%E8%A7%84%E5%88%99) 查看

如果你不跑这些规则，或者觉得并无必要，可以在后台关闭对应的指令。

如果你喜欢的规则这里没有，那么可以去插件仓库看一看，或者自己编写规则模板插件！
